{% extends "customer/base.html" %}
{% load static %}
{% block links %}
    <title>cart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/style.min.css' %}" />
{% endblock links %}
  
{% block navbar %}
      <div class="container"><a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}"><span style="margin-right: -92px;"><a class="navbar-brand" href="{% url 'home' %}" style="font-family: Allan, serif;font-size: 36px;margin-right: 123px;color: #8b2323;text-shadow: -5px 3px rgba(139,35,35,0.17);">Cafe Project</a></span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                <li class="nav-item"><a class="nav-link active" href="{% url 'categories' %}">Menu</a></li>
{% endblock navbar %}


{% block content %}
<div class="container px-3 my-5 clearfix">
  <div class="card">
    <div class="card-header text-center" style="background-color:rgb(226, 211, 214)" >
      <h2>Cart</h2>
    </div>
    <div class="card-body" style="background-color:rgb(127, 32, 32) ">
      <div class="table-responsive" style="border-radius: 5px">
        <table class="table table-bordered m-0">
          <thead style=" background: #dee2e6;">
            <tr>
              <th class="text-center py-3 px-4" style="width: auto">
                Image
              </th>
              <th class="text-center py-3 px-4" style="min-width: 200px">
                Title
              </th>
              <th class="text-right py-3 px-4" style="width: 100px">
                Unit_Price
              </th>
              <th class="text-center py-3 px-4" style="width: 120px">
                Count
              </th>
              <th class="text-right py-3 px-4" style="width: 100px">
                Total
              </th>
              <th
                class="text-center align-middle py-3 px-0"
                style="width: 40px"
              >
                <a
                  href="#"
                  class="shop-tooltip float-none text-light"
                  title
                  data-original-title="Clear cart"
                  ><i class="ino ion-md-trash"></i
                ></a>
              </th>
            </tr>
          </thead>
          <tbody>
            {% for key,value in data.items %}
              <tr class="item_row" id="{{key}}" style="background-color:#fff">
              <td class="text-center align-middle p-4">
                <img id="image_{{key}}" src="{% static '{{value.image}}' %}" alt="image" width="100" height="100">
              </td>
              <td class="p-4">
                <div class="media align-items-center">
                  <div class="media-body">
                    {{key}}
                  </div>
                </div>
              </td>
              <td id="unitprice_{{key}}" class="text-right font-weight-semibold align-middle p-4">
                {{value.item_unit_price}}
              </td>
              <td class="align-middle p-4">
                <input
                  type="number"
                  id = "quantity_{{key}}"
                  class="form-control text-center"
                  value= "{{value.item_quantity}}"
                  onchange="updateTotal('{{key}}')"
                />
              </td>
              <td id="total_price_{{key}}" class="text-right font-weight-semibold align-middle p-4">
                {{value.item_total_price}}
              </td>
              <td class="text-center align-middle px-0">
                <button
                  class="shop-tooltip close float-none text-danger"
                  title="Remove"
                  data-original-title="Remove"
                  onclick="remove('{{key}}')"
                >
                  Ã—
                </button>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="flex-container" style ="display: flex; justify-content: space-between;">
        <button
          type="button"
          class="btn btn-lg btn-default md-btn-flat mt-2 mr-3"
          style=" background: #FFF1CF; font-weight: bold"
          onclick="redirectToCheckout()"
        >
            Checkout 
        </button>
      </div>
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'shopingCart.js' %}"></script>
<script type="text/javascript"></script>
<script>
    function redirectToCart(){
    }
</script>
{% endblock content %}

