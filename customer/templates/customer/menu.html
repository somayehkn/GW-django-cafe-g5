{% extends "customer/base.html" %}
{% load static %}
    {% block links %}
        <title>Menu</title>
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/bootstrap/css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allan&amp;display=swap">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/css/Font%20Awesome%205%20Brands.css' %}">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/css/Font%20Awesome%205%20Free.css' %}">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/fonts/fontawesome-all.min.css' %}">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/css/Articles-Cards-images.css' %}">
        <link rel="stylesheet" href="{% static 'assets_home_menu_page/css/Navbar-With-Button-icons.css' %}">
    {% endblock links %}

    {% block navbar %}
    <div class="container"><a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}"><span style="margin-right: -92px;"><a class="navbar-brand" href="{% url 'home' %}" style="font-family: Allan, serif;font-size: 36px;margin-right: 123px;color: #8b2323;text-shadow: -5px 3px rgba(139,35,35,0.17);">Cafe Project</a></span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                <li class="nav-item"><a class="nav-link active" href="{% url 'categories' %}">Menu</a></li>
    {% endblock navbar %}
    
    {% block content %}
    <nav class="navbar navbar-light navbar-expand-md" style="margin-bottom: 15px;">
        <div class="container-fluid"><button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navcol-2"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div id="navcol-2" class="collapse navbar-collapse justify-content-center" style="color: rgb(255,255,255);">
                <ul class="navbar-nav" style="color: rgb(255, 255, 255);">
                    {% for cat in all_cats %}
                    {% if cat.name == selected_category.name %}
                        <li class="nav-item" style="margin-right: 15px;">
                            <button class="nav-link active" onclick="redirectToCat('{{cat.name}}')" style="color: var(--bs-white); font-weight: bold; border: none; background: none; cursor: pointer; padding: 0;">
                                {{cat.name}}
                            </button>
                        </li>
                    {% else %}
                        <li class="nav-item" style="margin-right: 15px;">
                            <button class="nav-link" onclick="redirectToCat('{{cat.name}}')" style="color: var(--bs-white); border: none; background: none; cursor: pointer; padding: 0;">
                                {{cat.name}}
                            </button>
                        </li>
                    {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </div>
    </nav>

    <div style="display: flex; justify-content: center; gap: 15px;">
        <input id="search-input" type="search" style="width: 351px; border-radius: 8px; border-style: none; height: 34px; text-align: left; font-family: 'Font Awesome 5 Brands'; padding: 7px 2px; padding-left: 11px;" placeholder="Search">
        <button class="btn btn-primary" type="button" style="background: #FFF1CF; color: var(--bs-gray-900); font-weight: bold; width: 175px; height: 34px; font-size: 90%; border-style: none; border-radius: 8px;" onclick="search('{{selected_category.name}}')">Search</button>
    </div>
    

        
    <div class="container py-4 py-xl-5" >
        <div class="row mb-2">
            <div class="col-md-8 col-xl-6 text-center mx-auto">
                <h2 style="color: var(--bs-white);font-weight: bold;">{{selected_category}}</h2>
                {% comment %} <p style="color: var(--bs-white);">{{selected_category.description}}</p> {% endcomment %}
            </div>
        </div>
        <div id="item-container" class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3 justify-content-center">
            {% for item_name, item_value in item_dict.items %}
            <div class="col" id="{{item_name}}">
                <div class="card" style="border-radius: 10px;"><img id="image_{{item_name}}" class="card-img-top w-100 d-block card-img-top w-100 fit-cover" style="height: 200px;" src="{% static item_value.image %}">
                    <div class="card-body p-4" style="border-color: var(--bs-border-color-translucent);background: #e2d3d6;border-radius: 10px;">
                        <h4 class="card-title" style="color: #000000;font-weight: bold;"><span style="color: rgb(83, 83, 83);">{{item_name}}</span></h4>
                        <p class="card-text" style="color: #141619;font-weight: bold;font-size: 18px;">Price:&nbsp;<span id="unitprice_{{item_name}}" style="font-weight: bold;">{{item_value.item_unit_price}}</span>&nbsp;T</p>
                        <div class="d-flex justify-content-center align-items-center" style="padding-left: 0px;font-size: 18px;">
                            <p style="font-weight: bold;font-size: 18px;padding-bottom: 0px;margin-bottom: 0px;">Count:&nbsp;</p>
                            <div></div>
                            <ul class="list-group list-group-horizontal" style="font-size: 18px;">
                                <li class="list-group-item" onclick="incrementQuantity(&#39;{{item_name}}&#39;)"><i class="fas fa-plus-circle"></i></li>
                                <li class="list-group-item"><span id="quantity_{{item_name}}">{{item_value.item_quantity}}</span></li>
                                <li class="list-group-item" onclick="decrementQuantity(&#39;{{item_name}}&#39;)"><i class="fas fa-minus-circle"></i></li>
                            </ul>
                        </div>
                        <p class="card-text" style="color: #141619;font-weight: bold;padding-top: 9px;">Total:&nbsp;<span id="total_price_{{item_name}}" class="total_price" style="font-weight: bold;">{{item_value.item_total_price}}</span>&nbsp;T</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <script src="{% static 'assets_home_menu_page/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets_home_menu_page/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets_home_menu_page/js/menu.js' %}"></script>
    {% endblock content %}