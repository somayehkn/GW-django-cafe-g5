{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Dashboard - Brand</title>
    <link
      rel="stylesheet"
      href="{% static 'assest_admin_show_order/bootstrap/css/bootstrap.min.css'%}"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap"
    />
    <link
      rel="stylesheet"
      href="{%static 'assest_admin_show_order/fonts/fontawesome-all.min.css'%}"
    />
  </head>

  <body id="page-top">
    <div id="wrapper">
      <nav
        class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0"
      >
        <div class="container-fluid d-flex flex-column p-0">
          <a
            class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0"
            href="#"
          >
            <div class="sidebar-brand-icon rotate-n-15">
              <i class="fas fa-coffee"></i>
            </div>
            <div class="sidebar-brand-text mx-3"><span>پنل مدیریت</span></div>
          </a>
          <hr class="sidebar-divider my-0" />
          <ul class="navbar-nav text-light" id="accordionSidebar">
            <li class="nav-item">
              <a class="nav-link " href="http://127.0.0.1:8000/staff/dashboard"
                ><i class="fas fa-utensils"></i><span>سفارشات</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="http://127.0.0.1:8000/staff/add_item"
                ><i class="fas fa-plus"></i><span>افزودن ایتم</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="http://127.0.0.1:8000/staff/add-category"
                ><i class="fas fa-plus"></i><span>افزودن دسته</span></a
              >
            </li>
            <li class="nav-item"></li>
            <li class="nav-item">
              <a class="nav-link" href="http://127.0.0.1:8000/staff/list_user"
                ><i class="fas fa-user-circle"></i
                ><span>مدیریت پرسنل</span></a
              >
            </li>
          </ul>
          <div class="text-center d-none d-md-inline">
            <button
              class="btn rounded-circle border-0"
              id="sidebarToggle"
              type="button"
            ></button>
          </div>
        </div>
      </nav>
      <div class="d-flex flex-column" id="content-wrapper">
        <div id="content">
          <nav
            class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top"
          >
            <div class="container-fluid">
              <button
                class="btn btn-link d-md-none rounded-circle me-3"
                id="sidebarToggleTop"
                type="button"
              >
                <i class="fas fa-bars"></i>
              </button>
              
              <ul class="navbar-nav flex-nowrap ms-auto">
                <div class="d-none d-sm-block topbar-divider"></div>
                <li class="nav-item dropdown no-arrow">
                  <div class="nav-item dropdown no-arrow">
                    <a
                      class="dropdown-toggle nav-link"
                      aria-expanded="false"
                      data-bs-toggle="dropdown"
                      href="#"
                      ><span class="d-none d-lg-inline me-2 text-gray-600 small"
                        >Valerie Luna</span
                      ><img
                        class="border rounded-circle img-profile"
                        src="{%static 'assest_admin_show_order/img/avatars/avatar1.jpeg'%}"
                    /></a>
                    <div
                      class="dropdown-menu shadow dropdown-menu-end animated--grow-in"
                    >
                      
                      <a class="dropdown-item" href="#"
                        ><i
                          class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"
                        ></i
                        >&nbsp;Logout</a
                      >
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
          <div class="container-fluid">
            <div
              class="text-end d-sm-flex justify-content-end align-items-center mb-4"
              style="text-align: right"
            >
              <h3 class="text-dark mb-0">افزودن ایتم</h3>
            </div>
      <form
        action="{% url 'add_item' %}"
        method="post"
        class="d-flex flex-column"
        enctype="multipart/form-data"
        style="
          width: 50%;
          text-align: center;
          margin-top: 10%;
          
          margin-right: auto;
          margin-left: auto;
          border-style: solid;
          border-color: rgb(139, 144, 149);
          padding: 10px;
        "
      >
        {% csrf_token %}
        <div class="row">
          <div
            class="col d-flex flex-column align-items-center"
            style="text-align: center"
          >
            <img
              id="item_image"
              style="width: auto; height: 140px; margin-bottom: 10px"
              src="{% static 'assets_admin_add_item/img/login-logo.svg' %} "
            /><input
              class="form-control"
              type="file"
              id="file_input"
              name="file_input"
              style="display: none"
              onchange="displaySelectedImage(event)"
            /><button
              class="btn btn-primary"
              id="borwse_pic"
              type="button"
              onclick="document.getElementById('file_input').click()"
            >
              انتخاب عکس
            </button>
          </div>
          <div class="col">
            <input
              class="form-control"
              type="text"
              id="item_name"
              name="item_name"
              placeholder="نام ایتم"
              style="
                text-align: right;
                width: 50%;
                margin-right: auto;
                margin-left: auto;
                margin-bottom: 10px;
              "
            /><input
              class="form-control"
              type="text"
              id="item_price"
              name="item_price"
              placeholder="قیمت واحد"
              style="
                text-align: right;
                width: 50%;
                margin-right: auto;
                margin-left: auto;
                margin-bottom: 10px;
              "
            /><input
              class="form-control"
              type="text"
              id="item_info"
              placeholder="توضیحات"
              style="
                text-align: right;
                width: 50%;
                margin-right: auto;
                margin-left: auto;
                margin-bottom: 10px;
              "
            />
            <div class="dropdown">
              <button
                class="btn btn-primary dropdown-toggle"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                type="button"
                style="
                  background: var(--bs-btn-disabled-color);
                  color: rgb(0, 0, 0);
                  border-color: rgb(206, 212, 218);
                  width: 50%;
                  margin-bottom: 10px;
                "
              >
                <span id="selectedItem">دسته بندی&nbsp;</span>
              </button>
              <div class="dropdown-menu">
                {% for item in categories %}
                <a
                  class="dropdown-item"
                  href="#"
                  onclick="changeText('{{ item }}')"
                  >{{item}}</a
                >
                {% endfor %}
                <input
                  type="hidden"
                  id="selected_category"
                  name="selected_category"
                  value=""
                />
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-primary" id="add_item_btn" type="submit">
          افزودن ایتم
        </button>
      </form>
    </div>
    <div class="text-center" style="margin-top: 10px">
      <button
      {% comment %} ToDo: change target to correct link {% endcomment %}
        onclick="location.href = 'target'"
        class="btn btn-primary"
        type="button"
        style="width: 575.2734px; background: #666d70"
      >
        بازگشت
      </button>
    </div>
    <footer class="bg-white sticky-footer"style="margin-top:30%">
      <div class="container my-auto">
        <div class="text-center my-auto copyright">
          <span>Copyright © Brand 2023</span>
        </div>
      </div>
    </footer>
    <a class="border rounded d-inline scroll-to-top" href="#page-top"
      ><i class="fas fa-angle-up"></i
    ></a>

    <script src="{%static 'assest_admin_show_order/bootstrap/js/bootstrap.min.js'%}"></script>
    <script src="{%static 'assest_admin_show_order/js/theme.js'%}"></script>
    <script>
      function displaySelectedImage(event) {
        const selectedFile = event.target.files[0];
        const imgElement = document.getElementById("item_image");
        imgElement.style.display = "block";

        const reader = new FileReader();
        reader.onload = function () {
          imgElement.src = reader.result;
        };
        reader.readAsDataURL(selectedFile);
        imgElement.style.width = "100%";
      }
      function changeText(selectedItem) {
        document.getElementById("selectedItem").innerText = selectedItem;
      }
      function changeText(selectedItem) {
        document.getElementById("selectedItem").innerText = selectedItem;
        document.getElementById("selected_category").value = selectedItem;
      }
    </script>
    <script src="{% static 'assets_admin_add_item/bootstrap/js/bootstrap.min.js' %}"></script>
  </body>
</html>
